<main>
    <h2>To-Do List</h2>
    <input type="text" id="taskInput" placeholder="Enter task...">
    <select id="priorityInput">
        <option value="Low">Low</option>
        <option value="Medium" selected>Medium</option>
        <option value="High">High</option>
    </select>
    <button id='add-task-btn' onclick="addTask()">Add Task</button>
    <table id="todoTable">
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Due Date</th>
            <th>Priority</th>
            <th>Completed</th>
        </tr>
        <% tasks.forEach((task, index)=> { %>
            <tr onclick="editTask('<%= task._id %>')" id="task-row-<%= index %>"
                class="<%= task.done ? 'done' : 'not-done-' + task.priority %>" data-priority="<%= task.priority %>">
                <td>
                    <%= task.title %>
                </td>
                <td>
                    <%= task.description %>
                </td>
                <td>
                    <%= task.dueDate %>
                </td>
                <td>
                    <%= task.priority %>
                </td>
                <td><input type="checkbox" <%=task.done ? 'checked' : '' %> >
                </td>
            </tr>
            <% }); %>
    </table>

    <script src="/js/task.js"></script>

</main>